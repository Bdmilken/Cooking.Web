<!doctype html>
<html>
<head>
    <title>Cooking Con Chef Cho</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1 class="site-title">Cooking Con Chef Cho</h1>
    {% for video in videos %}
    <div class="video-container">
        <h2>{{ video.title }}</h2>
        <p>{{ video.description }}</p>
        <div class="video-wrapper">
            <video controls>
                <source src="{{ url_for('static', filename='videos/' + video.filename) }}" type="video/mp4">
            </video>
        </div>
        <form class="like-form" action="{{ url_for('like', video_id=video.id) }}" method="post">
            {% if video.id in session.get('liked_videos', []) %}
            <button type="submit" class="like-button liked">Unlike ({{ video.likes }})</button>
            {% else %}
            <button type="submit" class="like-button">Like ({{ video.likes }})</button>
            {% endif %}
        </form>
        <div class="comments">
            <h3>Comments</h3>
            <ul>
                {% for c in video.comments %}
                <li>{{ c.content }}</li>
                {% else %}
                <li>No comments yet.</li>
                {% endfor %}
            </ul>
            <form action="{{ url_for('comment', video_id=video.id) }}" method="post" class="comment-form">
                <input type="text" name="content" placeholder="Add comment">
                <button type="submit">Comment</button>
            </form>
        </div>
    </div>
    {% endfor %}
</body>
</html>
